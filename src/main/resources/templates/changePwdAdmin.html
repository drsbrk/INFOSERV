<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="_csrf" content="${_csrf.token}"/>
    <meta name="_csrf_header" content="${_csrf.headerName}"/>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.css}">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" th:href="@{/icons/bootstrap-icons.css}">
    <link rel="stylesheet" th:href="@{/css/menu.css}">
    
    <link rel="stylesheet" th:href="@{/css/iziToast.min.css}">
    <title>User manager</title>
    <!--    add css file-->

    <link href="/css/lineicons.css" rel="stylesheet"/>

</head>
<body>

<div class="wrapper">
    <div th:replace="layout/mainlayout :: menu"></div>
    <div class="main p-3" >
        <div class="text-left">
            <h1>
                BI::REINITIALISATION MOT DE PASSE PAR ADMIN
            </h1>
            
            <div class="alert alert-primary" role="alert" th:if="${success}" th:text="${success}"></div>
            <div class="alert alert-danger" role="alert" th:if="${error}" th:text="${error}"></div>
        </div>
        <div class="row row-cols-1 row-cols-md-2">

            <div class="col">
                <div class="card h-100">
                    <div class="card-body">
                        <form id="user_form" th:action="@{/users/changePwdAdmin}" method="post"  th:object="${pwdDTO}" autocomplete="off">
                            
                            <div class="form-group">
                                <label for="email" class="form-label">Email de l'utilisateur</label>
                                <input type="email" th:field="*{email}" class="form-control"  >
                                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" >Email</span>
                            </div>
                             
                            <div class="form-group">
                                <label for="newPassword" class="form-label">Nouveau mot de passe</label>
                                <input type="password" th:field="*{newPassword}" 
                                       class="form-control" >
                                       
                            </div>
                            <div class="form-group">
                                <label for="confNewPassword" class="form-label">Confirmation mot de passe</label>
                                <input type="password" th:field="*{confNewPassword}"  class="form-control"
                                       >
                            </div>
                            <input type="submit" id="changePwd" name="submit" value="Changer mot de passe"
                                class="btn btn-primary" />
                                <!-- <i class="bi bi-box-arrow-in-right"></i> --> 
                             
                        </form>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</div>

<!--modal-->



<!-- Optional JavaScript; choose one of the two! -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- add js file -->
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
  <script th:src="@{/js/iziToast.min.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/js/menu.js}"></script>

<script type="text/javascript" th:src="@{/js/utils/dateFormatter.js}"></script>
<script type="text/javascript" th:src="@{/js/changePwd.js}"></script>
</body>
</html>